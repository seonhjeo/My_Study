# 06_메소드로_코드_간추리기

### 메소드란?
 - 일련의 코드를 하나의 이름 아래 묶은 것으로 이렇게 묶은 코드는 메소드의 이름을 불러주는 것만으로 실행 가능하다. 이것을 일컬어 메소드를 호출한다고 한다.
 - 메소드의 선언 형식은 다음과 같다.
   - 메소드는 메소드의 속성을 수식하는 한정자를 둘 수 있으며, 메소드의 반환 형식은 결과값의 형과 일치해야 한다.
   - 메소드의 한정자로 `static`이 올 시 해당 한정자는 클래스 인스턴스가 아닌 클래스 자체에 소속되게 된다.
```
class 클래스_이름
{
  한정자 반환_형식 메소드_이름( 매개변수_목록 )
  {
    ...
    return 메소드_결과;
  }
}
```

### 참조에 의한 매개변수 전달
 - 메소드가 매개변수를 받아들일 때는 데이터의 복사가 이루어져 메소드 외부에서 선언된 원 값은 변경되지 않는다.
 - 메소드 외부의 값을 메소드가 변경하기 위해서는 값을 참조로 넘겨줘야 한다.
 - C#에서 값을 참조로 전달하기 위해서는 매개변수 앞에 `ref`키워드를 추가하면 된다.
```
static void Swap(ref int a, ref int b)
{
  int temp = b;
  b = a;
  a = temp;
}

int x = 3, y = 4;
Swap(ref x, ref y);
```

### 메소드의 결과를 참조로 반환
 - 메소드의 호출자로 하여금 반환받은 결과를 참조로 다룰 수 있도록 함.
```
class SomeClass
{
  int SomeValue = 10;

  public ref int SomeMethod()
  {
    return ref SomeValue;
  }
}

SomeClass obj = new SomeClass();
int vresult = obj.SomeMethod();         // 값으로 반환받고 싶을 때
ref int rresult = ref obj.SomeMethod(); // 참조로 반환받고 싶을 때, rresult는 참조 지역 변수가 됨
```

### 출력 전용 매개변수
 - C#은 `out`키워드를 이용해 매개변수에 값을 주입할 수 있다.
 - 참조자인 `ref`를 이용해도 가능하나, `out`키워드가 좀 더 안전하다.
   - `out`키워드는 해당 공간에 값이 저장되지 않으면 오류가 발생한다.
   - `out`키워드는 초기화된 지역 변수가 매개변수로 넘어가는 것을 방지할 수 있다.
 - 출력 전용 매개변수는 호출할 때 매개변수 목록 안에서 즉석으로 선언되므로 미리 선언할 필요가 없다.
```
void Divide(int a, int b, out int quot, out int remain) {
  quot = a / b;
  remain = a % b;
}

// 출력 변수 선언
int a = 20, b = 3, c, d;
Divide(a, b, out c, out d);

// 출력 변수 미선언
int a = 20, b = 3;
Divide(a, b, out int c, out int d);
```

### 메소드 오버로딩
 - 하나의 메소드 이름에 여러 개의 구현을 올리는 것
 - 메소드를 오버로딩하면 컴파일러가 메소드 호출 코드에 사용되는 매개변수 수와 형식을 분석해 적합한 메소드를 찾아줌
 - 메소드 오버로딩에서는 오로지 매개변수만을 분석함
```
int Plus(int a, int b) { return a + b; }
double Plus(double a, double b) { return a + b; }
```

### 가변 개수의 인수
 - 가변 개수의 인수는 params 키워드와 배열을 이용해 선언 가능
 - 메소드의 형식은 같으나 인수의 개수가 유연하게 변화해야 될 때 유용하게 사용 가능
```
int sum (params int[] args)
{
  ...
}
```

### 명명된 인수
 - 대개의 경우 매개변수에 인수를 할당할 때 순서에 근거하지만, C#은 메소드를 호출할 때 인수의 이름에 근거해 데이터를 할당할 수 있는 기능을 제공한다.
 - 인수가 많아 어느 매개변수에 어느 인수가 할당되었는지 분간이 어려운 경우에 충분히 도움이 된다.
```
static void PrintProfile(string name, string phone) { ... }

PrintProfile(name : "홍길동", phone : "010-0123-4567");
```

### 선택적 인수
 - 메소드의 매개변수는 기본값을 가질 수 있다. 즉 매개변수를 특정 값으로 초기화하듯 메소드를 선언할 수 있다.
 - 기본값을 가진 매개변수는 메소드를 호출할 때 해당 인수를 생략할 수 있다. 필요한 경우에는 인수를 입력할 수 있다.
 - 선택적 인수는 항상 필수 인수 뒤에 와야 한다. 필수 인수가 하나도 없는 경우에는 상관 없다.
```
void MyMethod(int a, int b, int c = 0, int d = 1) { ... }

MyMethod(1, 2);
```

### 로컬 함수
 - 메소드 안에서 선언되고 선언된 메소드 안에서만 사용되는 특별한 함수. 클래스의 멤버가 아니기 때문에 함수라 부름
 - 로컬 함수는 자신이 존재하는 지역에 선언되어 있는 변수를 사용할 수 있다.
 - 메소드 밖에서는 다시 쓸 일 없는 반복적인 작업을 하나의 이름 아래 묶어놓는 데 유용함
```
class SomeClass
{
  public void SomeMethod()
  {
    ...
    SomeLF(1, 2);
    SomeLF(3, 4);

    void SomeLF(int a, int b)
    {
      ...
    }
  }
}
```
